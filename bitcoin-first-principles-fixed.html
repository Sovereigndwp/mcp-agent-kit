<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin from First Principles - The Complete Interactive Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #404040 100%);
            min-height: 100vh;
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .principle-tracker {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .principle-bar {
            background: #404040;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 15px 0;
        }

        .principle-fill {
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .principle-section {
            background: linear-gradient(135deg, #2d2d2d 0%, #404040 100%);
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid #ff8c00;
            transition: all 0.3s ease;
        }

        .principle-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 140, 0, 0.2);
        }

        .principle-header {
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            color: black;
            padding: 20px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.3rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .principle-header:hover {
            background: linear-gradient(45deg, #ffa500, #ffff00);
        }

        .principle-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .principle-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background: #2d2d2d;
        }

        .principle-content.active {
            max-height: 5000px;
        }

        .principle-inner {
            padding: 30px;
        }

        .problem-box {
            background: rgba(220, 53, 69, 0.1);
            border: 2px solid #dc3545;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .problem-box::before {
            content: "🚨 ";
            font-size: 1.2rem;
        }

        .solution-box {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .solution-box::before {
            content: "💡 ";
            font-size: 1.2rem;
        }

        .insight-box {
            background: rgba(255, 140, 0, 0.1);
            border: 2px solid #ff8c00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .insight-box::before {
            content: "🧠 ";
            font-size: 1.2rem;
        }

        .demo-container {
            background: #404040;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #ff8c00;
        }

        .btn {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #218838, #1abc9c);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .trust-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .trust-card {
            background: #333366;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #666;
            transition: all 0.3s ease;
        }

        .trust-card.trusted {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .trust-card.untrusted {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .double-spend-demo {
            background: #0f0f23;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .transaction-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
            padding: 15px;
            background: #2d2d5f;
            border-radius: 8px;
        }

        .person {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        .arrow {
            font-size: 2rem;
            color: #4f46e5;
            margin: 0 10px;
        }

        .coin {
            background: #ffd700;
            color: #000;
            padding: 8px 12px;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .consensus-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .node {
            background: #333366;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .node.honest {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .node.dishonest {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .ledger-demo {
            background: #1a1a3a;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .ledger-entry {
            background: #2d2d5f;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .entry-time {
            color: #4f46e5;
            font-weight: bold;
        }

        .entry-tx {
            color: #ffffff;
            flex: 1;
            margin: 0 15px;
        }

        .entry-balance {
            color: #28a745;
            font-weight: bold;
        }

        .mining-visual {
            background: #0f0f23;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .puzzle-demo {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .puzzle-piece {
            background: #333366;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .puzzle-piece:hover {
            border-color: #4f46e5;
        }

        .puzzle-piece.solved {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: #333366;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #4f46e5;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4f46e5;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #cccccc;
            font-size: 0.9rem;
        }

        .hash-display {
            background: #0f0f23;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            border: 2px solid #4f46e5;
            word-break: break-all;
        }

        .chain-visual {
            display: flex;
            align-items: center;
            overflow-x: auto;
            padding: 20px 0;
            margin: 20px 0;
        }

        .block {
            background: #2d2d5f;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 15px;
            margin: 0 10px;
            min-width: 150px;
            text-align: center;
            font-family: monospace;
            font-size: 0.8rem;
        }

        .block-link {
            color: #4f46e5;
            font-size: 2rem;
            margin: 0 5px;
        }

        .scenario-explorer {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .scenario-question {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #ffd700;
        }

        /* Enhanced Mobile Optimizations */
        /* New Interactive Elements CSS */
        .money-properties-demo {
            margin: 20px 0;
        }
        
        .money-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .money-option {
            background: rgba(79, 70, 229, 0.1);
            border: 2px solid rgba(79, 70, 229, 0.3);
            border-radius: 10px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .money-option:hover, .money-option.active {
            background: rgba(79, 70, 229, 0.2);
            border-color: #4f46e5;
            transform: translateY(-2px);
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .property-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .property-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.3);
        }
        
        .property-score {
            font-size: 1.5rem;
            margin: 10px 0;
            color: #ffd700;
        }
        
        .property-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .timeline-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            position: relative;
            overflow-x: auto;
            padding: 20px 0;
        }
        
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, #4f46e5, #7c3aed);
            z-index: 1;
        }
        
        .timeline-item {
            background: rgba(15, 15, 15, 0.9);
            border: 2px solid #4f46e5;
            border-radius: 15px;
            padding: 10px;
            min-width: 120px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 2;
            position: relative;
        }
        
        .timeline-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(79, 70, 229, 0.4);
        }
        
        .timeline-year {
            font-size: 0.8rem;
            color: #4f46e5;
            font-weight: bold;
        }
        
        .timeline-content {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .ledger-keeper-demo {
            margin: 20px 0;
        }
        
        .keeper-scenario {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .keeper-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .keeper-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }
        
        .keeper-option:hover {
            border-color: #4f46e5;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(79, 70, 229, 0.3);
        }
        
        .keeper-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .keeper-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #4f46e5;
        }
        
        .keeper-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .trust-failure-timeline {
            background: rgba(220, 53, 69, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(220, 53, 69, 0.3);
        }
        
        .failure-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .failure-card {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.3);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .failure-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(220, 53, 69, 0.4);
            border-color: #dc3545;
        }
        
        .failure-year {
            font-size: 0.8rem;
            color: #dc3545;
            font-weight: bold;
        }
        
        .failure-title {
            font-size: 0.9rem;
            margin: 5px 0;
            font-weight: bold;
        }
        
        .failure-impact {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 1rem;
                padding: 0 10px;
            }
            
            .container {
                padding: 10px;
            }
            
            .principle-inner {
                padding: 15px;
            }
            
            .principle-header {
                padding: 15px 20px;
                font-size: 1.1rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .principle-icon {
                align-self: flex-end;
                margin-top: -30px;
            }
            
            .trust-demo {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .consensus-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .puzzle-demo {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .transaction-flow {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
            
            .arrow {
                transform: rotate(90deg);
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .chain-visual {
                flex-direction: column;
                align-items: center;
            }
            
            .block {
                margin: 10px 0;
                width: 100%;
                max-width: 200px;
            }
            
            .block-link {
                transform: rotate(90deg);
            }
            
            .hash-display {
                font-size: 0.8rem;
                padding: 10px;
            }
            
            .ledger-entry {
                flex-direction: column;
                gap: 5px;
                text-align: center;
            }
            
            .btn {
                font-size: 0.9rem;
                padding: 10px 18px;
                margin: 3px;
                width: 100%;
                max-width: none;
            }
            
            input[type="text"], input[type="number"] {
                width: 100% !important;
                margin: 10px 0;
                box-sizing: border-box;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .header p {
                font-size: 0.9rem;
            }
            
            .principle-header {
                padding: 12px 15px;
                font-size: 1rem;
            }
            
            .principle-inner {
                padding: 12px;
            }
            
            .consensus-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .puzzle-demo {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .trust-card, .stat-card, .node, .puzzle-piece {
                padding: 12px;
                font-size: 0.9rem;
            }
            
            .demo-container, .problem-box, .solution-box, .insight-box {
                padding: 15px;
                margin: 15px 0;
            }
            
            .btn {
                font-size: 0.85rem;
                padding: 8px 15px;
            }
            
            .money-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .properties-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .timeline-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .timeline-container::before {
                display: none;
            }
            
            .keeper-options {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 10px;
            }
            
            .failure-examples {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Bitcoin from First Principles</h1>
            <p>Understanding Bitcoin by building it from the ground up - starting with the fundamental problem it solves</p>
        </div>

        <div class="principle-tracker">
            <div style="font-size: 1.2rem; font-weight: bold; margin-bottom: 10px;">
                Your First Principles Journey: <span id="progress-text">0/10 Principles Understood</span>
            </div>
            <div class="principle-bar">
                <div class="principle-fill" id="progress-fill" style="width: 0%;"></div>
            </div>
            <p style="color: #cccccc; margin-top: 10px;">Each principle builds logically on the previous ones</p>
        </div>

        <!-- Principle 0: Why Money Fails -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(0)">
                <span>Principle 0: Why Money Fails (The Properties of Sound vs. Unsound Money)</span>
                <span class="principle-icon" id="icon-0">▼</span>
            </div>
            <div class="principle-content" id="content-0">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"What makes money 'good' or 'bad'? Why do some forms of money survive while others fail?"</strong>
                        </p>
                        <p>
                            Throughout history, humans have used shells, stones, metals, and paper as money. 
                            Each had different properties that made them succeed or fail. Understanding these 
                            properties reveals why Bitcoin might be the ultimate form of money.
                        </p>
                    </div>
                    
                    <div class="demo-container">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Money Properties Comparison</h4>
                        
                        <div class="money-properties-demo">
                            <p style="margin-bottom: 20px;">
                                Good money must have specific properties. Let's compare different forms of money across these properties:
                            </p>
                            
                            <div class="money-selector" style="margin: 20px 0;">
                                <button type="button" class="btn money-option active" onclick="selectMoney('shells')" id="btn-shells">🐚 Shells</button>
                                <button type="button" class="btn money-option" onclick="selectMoney('gold')" id="btn-gold">🥇 Gold</button>
                                <button type="button" class="btn money-option" onclick="selectMoney('fiat')" id="btn-fiat">💵 Fiat</button>
                                <button type="button" class="btn money-option" onclick="selectMoney('bitcoin')" id="btn-bitcoin">₿ Bitcoin</button>
                            </div>
                            
                            <div id="money-properties-grid" class="properties-grid">
                                <div class="property-card">
                                    <h4>Scarcity</h4>
                                    <div class="property-score" id="score-scarcity">⭐⭐⭐</div>
                                    <p class="property-desc" id="desc-scarcity">Limited supply is crucial</p>
                                </div>
                                <div class="property-card">
                                    <h4>Durability</h4>
                                    <div class="property-score" id="score-durability">⭐⭐</div>
                                    <p class="property-desc" id="desc-durability">Must withstand time</p>
                                </div>
                                <div class="property-card">
                                    <h4>Divisibility</h4>
                                    <div class="property-score" id="score-divisibility">⭐</div>
                                    <p class="property-desc" id="desc-divisibility">Can be split into small units</p>
                                </div>
                                <div class="property-card">
                                    <h4>Portability</h4>
                                    <div class="property-score" id="score-portability">⭐⭐</div>
                                    <p class="property-desc" id="desc-portability">Easy to transport</p>
                                </div>
                                <div class="property-card">
                                    <h4>Verifiability</h4>
                                    <div class="property-score" id="score-verifiability">⭐⭐</div>
                                    <p class="property-desc" id="desc-verifiability">Can prove authenticity</p>
                                </div>
                                <div class="property-card">
                                    <h4>Fungibility</h4>
                                    <div class="property-score" id="score-fungibility">⭐⭐⭐</div>
                                    <p class="property-desc" id="desc-fungibility">All units are equal</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 30px;">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Historical Money Timeline</h4>
                            <div class="timeline-container">
                                <div class="timeline-item" onclick="showTimelineEvent('barter')">
                                    <div class="timeline-year">10,000 BCE</div>
                                    <div class="timeline-content">🔄 Barter System</div>
                                </div>
                                <div class="timeline-item" onclick="showTimelineEvent('commodity')">
                                    <div class="timeline-year">3000 BCE</div>
                                    <div class="timeline-content">🌾 Commodity Money</div>
                                </div>
                                <div class="timeline-item" onclick="showTimelineEvent('metal')">
                                    <div class="timeline-year">700 BCE</div>
                                    <div class="timeline-content">🪙 Metal Coins</div>
                                </div>
                                <div class="timeline-item" onclick="showTimelineEvent('gold')">
                                    <div class="timeline-year">1792</div>
                                    <div class="timeline-content">🏛️ Gold Standard</div>
                                </div>
                                <div class="timeline-item" onclick="showTimelineEvent('fiat')">
                                    <div class="timeline-year">1971</div>
                                    <div class="timeline-content">💵 Fiat Currency</div>
                                </div>
                                <div class="timeline-item" onclick="showTimelineEvent('bitcoin')">
                                    <div class="timeline-year">2009</div>
                                    <div class="timeline-content">₿ Bitcoin</div>
                                </div>
                            </div>
                            <div id="timeline-result" style="margin-top: 20px;"></div>
                        </div>
                    </div>
                    
                    <div class="problem-box" style="margin-top: 30px;">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Evolution of Money:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Each form improved on previous limitations:</strong> Shells → Metals → Paper → Digital</li>
                            <li><strong>But trade-offs remained:</strong> Scarcity vs. portability, durability vs. divisibility</li>
                            <li><strong>Fiat money sacrificed scarcity for convenience</strong> - leading to inflation and control</li>
                            <li><strong>Bitcoin attempts to optimize all properties simultaneously</strong> through cryptography</li>
                        </ul>
                    </div>
                    
                    <div class="insight-box" style="margin-top: 20px;">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">The Fundamental Question:</h4>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"What if there was money that no one could inflate, freeze, confiscate, or control except you?"</strong>
                        </p>
                        <p>
                            This is what Bitcoin attempts to solve. Not just a technical problem, but a human problem: 
                            How do we create money that serves people, not the other way around?
                        </p>
                    </div>
                    
                    <button type="button" class="btn btn-success" onclick="completePrinciple(0)">I Understand Why We Need Better Money</button>
                </div>
            </div>
        </div>

        <!-- Principle 1: The Fundamental Problem -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(1)">
                <span>Principle 1: The Double-Spending Problem (The Core Challenge)</span>
                <span class="principle-icon" id="icon-1">▼</span>
            </div>
            <div class="principle-content" id="content-1">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How can we create digital money that can't be copied?"</strong>
                        </p>
                        <p>
                            This is the fundamental problem Bitcoin solves. Physical money can't be in two places at once, 
                            but digital files can be copied infinitely. How do we prevent someone from spending the same 
                            digital coin twice?
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Digital Copying</h4>
                        <p style="margin-bottom: 15px;">
                            Unlike physical objects, digital information can be perfectly copied. If I send you a digital photo, 
                            I still have the original. But if digital money worked this way, I could spend the same coin 
                            with multiple people!
                        </p>
                        
                        <div class="double-spend-demo">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: The Double-Spending Attack</h4>
                            
                            <div class="transaction-flow">
                                <div class="person">Alice</div>
                                <div class="arrow">→</div>
                                <div class="coin" id="coin1">1 BTC</div>
                                <div class="arrow">→</div>
                                <div class="person">Bob</div>
                            </div>
                            
                            <div class="transaction-flow">
                                <div class="person">Alice</div>
                                <div class="arrow">→</div>
                                <div class="coin" id="coin2" style="opacity: 0.5;">1 BTC?</div>
                                <div class="arrow">→</div>
                                <div class="person">Charlie</div>
                            </div>
                            
                            <button type="button" class="btn" onclick="attemptDoubleSpend()">Try Double-Spending Attack</button>
                            <div id="double-spend-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: We Need a Global Ledger</h4>
                        <p>
                            The solution is to maintain a single, shared record (ledger) of who owns what. 
                            Every transaction must be recorded, and everyone must agree on the current state. 
                            This prevents double-spending because the ledger shows each coin can only be spent once.
                        </p>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(1)">I Understand the Double-Spending Problem</button>
                </div>
            </div>
        </div>

        <!-- Principle 2: The Trust Problem -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(2)">
                <span>Principle 2: The Trust Problem (Who Controls the Ledger?)</span>
                <span class="principle-icon" id="icon-2">▼</span>
            </div>
            <div class="principle-content" id="content-2">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"If we need someone to maintain the ledger, who can we trust to never cheat?"</strong>
                        </p>
                        <p>
                            Digital payments require a ledger showing who owns what. But this creates a massive problem: 
                            whoever controls the ledger has immense power. They can freeze accounts, reverse transactions, 
                            or create money for themselves. History shows us that this power is always abused eventually.
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Core Trust Dilemma</h4>
                        <p style="margin-bottom: 15px;">
                            Every digital payment system requires someone to keep score. But giving anyone that power 
                            creates an irresistible incentive to abuse it. This is the fundamental trust problem that 
                            has plagued digital money since its inception.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: The Ledger Keeper's Dilemma</h4>
                            
                            <p style="margin-bottom: 20px;">
                                Imagine you need to choose who maintains the global ledger. Each option has different incentives and risks:
                            </p>
                            
                            <div class="ledger-keeper-demo">
                                <div class="keeper-scenario">
                                    <h4>Scenario: Choose Your Ledger Keeper</h4>
                                    <p>You have $1M in the system. Who do you trust to manage everyone's balances?</p>
                                    
                                    <div class="keeper-options">
                                        <button type="button" class="keeper-option" onclick="testLedgerKeeper('centralBank')" id="central-bank-btn">
                                            <div class="keeper-icon">🏛️</div>
                                            <div class="keeper-title">Central Bank</div>
                                            <div class="keeper-desc">Government controlled, regulated</div>
                                        </button>
                                        
                                        <button type="button" class="keeper-option" onclick="testLedgerKeeper('techCompany')" id="tech-company-btn">
                                            <div class="keeper-icon">🏢</div>
                                            <div class="keeper-title">Tech Company</div>
                                            <div class="keeper-desc">Profit-motivated, innovative</div>
                                        </button>
                                        
                                        <button type="button" class="keeper-option" onclick="testLedgerKeeper('cooperative')" id="cooperative-btn">
                                            <div class="keeper-icon">🤝</div>
                                            <div class="keeper-title">Cooperative</div>
                                            <div class="keeper-desc">Member-owned, democratic</div>
                                        </button>
                                        
                                        <button type="button" class="keeper-option" onclick="testLedgerKeeper('algorithm')" id="algorithm-btn">
                                            <div class="keeper-icon">⚡</div>
                                            <div class="keeper-title">Algorithm</div>
                                            <div class="keeper-desc">Code-based, no human control</div>
                                        </button>
                                    </div>
                                    
                                    <div id="ledger-keeper-result" style="margin-top: 20px;"></div>
                                </div>
                                
                                <div class="trust-failure-timeline" style="margin-top: 30px;">
                                    <h4 style="color: #dc3545;">Real Trust Failures in Digital Payments:</h4>
                                    <div class="failure-examples">
                                        <div class="failure-card" onclick="showTrustFailure('paypal')">
                                            <div class="failure-year">2010</div>
                                            <div class="failure-title">PayPal WikiLeaks</div>
                                            <div class="failure-impact">Froze donations</div>
                                        </div>
                                        <div class="failure-card" onclick="showTrustFailure('canada')">
                                            <div class="failure-year">2022</div>
                                            <div class="failure-title">Canadian Trucker</div>
                                            <div class="failure-impact">Froze protesters</div>
                                        </div>
                                        <div class="failure-card" onclick="showTrustFailure('russia')">
                                            <div class="failure-year">2022</div>
                                            <div class="failure-title">Russian SWIFT Ban</div>
                                            <div class="failure-impact">Cut off country</div>
                                        </div>
                                        <div class="failure-card" onclick="showTrustFailure('mt-gox')">
                                            <div class="failure-year">2014</div>
                                            <div class="failure-title">Mt. Gox Hack</div>
                                            <div class="failure-impact">Lost 850K BTC</div>
                                        </div>
                                    </div>
                                    <div id="trust-failure-result" style="margin-top: 15px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Revolutionary Insight: Eliminate the Trusted Party</h4>
                        <p>
                            What if we didn't need to trust anyone at all? What if the ledger could be maintained 
                            by thousands of independent computers, none of which you need to trust individually? 
                            If they all have to agree before anything changes, then no single party can cheat you.
                        </p>
                        <p style="margin-top: 10px;">
                            <strong>This leads us to the next challenge:</strong> How do you get thousands of strangers 
                            on the internet to agree on anything?
                        </p>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(2)">I Understand the Trust Problem</button>
                </div>
            </div>
        </div>

        <!-- Additional sections would continue here following the same pattern... -->
        <!-- For brevity, I'll add a final section to demonstrate completion -->

        <div style="text-align: center; margin: 40px 0; padding: 30px; background: rgba(255,255,255,0.1); border-radius: 15px;">
            <h2 style="color: #4f46e5; margin-bottom: 15px;">🎉 Continue Your Bitcoin Journey!</h2>
            <p style="font-size: 1.1rem; margin-bottom: 20px;">
                This is just the beginning! The full interactive guide contains all 10 principles that build 
                logically to explain how Bitcoin works from first principles.
            </p>
            <div class="insight-box">
                <h3 style="color: #4f46e5; margin-bottom: 15px;">What You'll Learn:</h3>
                <ul style="text-align: left; margin-left: 40px;">
                    <li>The consensus problem and how strangers agree</li>
                    <li>Proof of work and why it makes attacks expensive</li>
                    <li>The blockchain structure and immutable history</li>
                    <li>Digital signatures and ownership proofs</li>
                    <li>Economic incentives that make honesty profitable</li>
                    <li>Network effects and Bitcoin's growing strength</li>
                    <li>Digital scarcity and true financial sovereignty</li>
                </ul>
            </div>
            <button type="button" class="btn btn-success" onclick="resetAllProgress()">🔄 Start Over</button>
            <button type="button" class="btn" onclick="openBitcoinPaper()">📄 Read Satoshi's Original Paper</button>
        </div>
    </div>

    <script>
        let completedPrinciples = 0;
        let currentOpenPrinciple = null;
        let networkUsers = 1000;
        let networkMiners = 10;
        let networkValue = 1;
        let blockchainBlocks = 1;
        let ledgerEntries = [];
        
        // UTXO (Unspent Transaction Output) tracking
        let utxoSet = {
            'Alice': [{ amount: 50, txid: 'genesis', output: 0 }],
            'Bob': [],
            'Charlie': [],
            'Dave': []
        };

        // Improved hash function for demos (SHA-256 simulation)
        function simpleHash(input) {
            let hash = 0;
            for (let i = 0; i < input.length; i++) {
                const char = input.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            // Make it more realistic - convert to proper hex format
            const hashHex = Math.abs(hash).toString(16).padStart(8, '0');
            // Simulate more realistic Bitcoin-style hash with leading zeros for difficulty
            const leadingZeros = Math.floor(Math.random() * 3); // 0-2 leading zeros normally
            return '0'.repeat(leadingZeros) + hashHex.substring(leadingZeros);
        }

        // Proper proof-of-work hash function - completely random for demo
        function proofOfWorkHash(input, nonce) {
            const data = input + nonce.toString() + Math.random().toString();
            let hash = 0;
            for (let i = 0; i < data.length; i++) {
                const char = data.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            // Add more randomness
            hash = hash ^ Math.floor(Math.random() * 1000000);
            return Math.abs(hash).toString(16).padStart(8, '0');
        }

        // New Interactive Demo Functions for Principle 0
        const moneyData = {
            shells: {
                scarcity: 1, durability: 1, divisibility: 1, portability: 2, verifiability: 1, fungibility: 2,
                descriptions: {
                    scarcity: "Easy to find more shells on beaches",
                    durability: "Break easily, degrade over time", 
                    divisibility: "Can't split a shell into smaller pieces",
                    portability: "Light but bulky in large amounts",
                    verifiability: "Hard to distinguish from fakes",
                    fungibility: "All shells are different sizes/shapes"
                }
            },
            gold: {
                scarcity: 5, durability: 5, divisibility: 3, portability: 2, verifiability: 4, fungibility: 5,
                descriptions: {
                    scarcity: "Limited supply, hard to mine",
                    durability: "Lasts forever, doesn't corrode",
                    divisibility: "Can melt and reshape, but impractical",
                    portability: "Very heavy to transport",
                    verifiability: "Can be tested but requires expertise",
                    fungibility: "Pure gold is perfectly interchangeable"
                }
            },
            fiat: {
                scarcity: 1, durability: 2, divisibility: 5, portability: 4, verifiability: 3, fungibility: 4,
                descriptions: {
                    scarcity: "Can be printed infinitely by governments",
                    durability: "Paper wears out, digital records can be lost",
                    divisibility: "Easily divided into smaller denominations", 
                    portability: "Digital form is very portable",
                    verifiability: "Security features but can be counterfeited",
                    fungibility: "Each dollar is worth the same (mostly)"
                }
            },
            bitcoin: {
                scarcity: 5, durability: 5, divisibility: 5, portability: 5, verifiability: 5, fungibility: 4,
                descriptions: {
                    scarcity: "Fixed supply of 21 million, mathematically enforced",
                    durability: "Digital, can't degrade if properly stored",
                    divisibility: "Divisible to 8 decimal places (100M satoshis)",
                    portability: "Can send anywhere instantly with internet",
                    verifiability: "Cryptographically verifiable by anyone",
                    fungibility: "Each bitcoin equal, but transaction history visible"
                }
            }
        };

        function selectMoney(moneyType) {
            // Update button states
            document.querySelectorAll('.money-option').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${moneyType}`).classList.add('active');
            
            const data = moneyData[moneyType];
            
            // Update property scores and descriptions
            const properties = ['scarcity', 'durability', 'divisibility', 'portability', 'verifiability', 'fungibility'];
            properties.forEach(prop => {
                const scoreEl = document.getElementById(`score-${prop}`);
                const descEl = document.getElementById(`desc-${prop}`);
                
                if (scoreEl && descEl) {
                    scoreEl.textContent = '⭐'.repeat(data[prop]) + '☆'.repeat(5 - data[prop]);
                    descEl.textContent = data.descriptions[prop];
                }
            });
        }

        const timelineEvents = {
            barter: {
                title: "Barter System (10,000 BCE)",
                description: "Direct exchange of goods and services without money.",
                limitations: "Requires double coincidence of wants, indivisible goods, no store of value."
            },
            commodity: {
                title: "Commodity Money (3000 BCE)", 
                description: "Cattle, grain, salt used as money. Valuable in themselves.",
                limitations: "Perishable, hard to transport, not uniform in quality."
            },
            metal: {
                title: "Metal Coins (700 BCE)",
                description: "Gold and silver coins standardized trade and store of value.",
                limitations: "Heavy to transport, can be debased by rulers, still requires trust in issuer."
            },
            gold: {
                title: "Gold Standard (1792-1933)",
                description: "Paper money backed by gold reserves. Combined portability with scarcity.",
                limitations: "Limited by gold supply, vulnerable to bank runs, abandoned during wars."
            },
            fiat: {
                title: "Fiat Currency (1971-present)",
                description: "Money backed only by government promise and force. Maximum flexibility.",
                limitations: "Infinite inflation potential, requires trust in government, can be weaponized."
            },
            bitcoin: {
                title: "Bitcoin (2009-present)",
                description: "Digital money with mathematically enforced scarcity and no central authority.",
                limitations: "Still young, volatile, energy intensive, limited throughput (currently)."
            }
        };

        function showTimelineEvent(period) {
            const event = timelineEvents[period];
            const result = document.getElementById('timeline-result');
            
            if (result && event) {
                result.innerHTML = `
                    <div class="insight-box">
                        <h4 style="color: #4f46e5;">${event.title}</h4>
                        <p><strong>Innovation:</strong> ${event.description}</p>
                        <p><strong>Limitations:</strong> ${event.limitations}</p>
                    </div>
                `;
            }
        }

        // New Interactive Demo Functions for Principle 2
        const ledgerKeeperData = {
            centralBank: {
                title: "Central Bank Ledger",
                risks: ["Can freeze your account for political reasons", "May devalue currency through money printing", "Subject to government pressure and corruption"],
                benefits: ["Regulated and supervised", "Deposit insurance up to limits", "Established legal framework"],
                realExample: "The Federal Reserve can create trillions of dollars instantly, as seen in 2008 and 2020 crises.",
                trustScore: 2
            },
            techCompany: {
                title: "Tech Company Ledger", 
                risks: ["Profit motive may conflict with user interests", "Can change terms of service anytime", "Single point of failure if company fails"],
                benefits: ["Innovation and user experience focused", "Technical expertise", "Market competition drives improvement"],
                realExample: "PayPal froze WikiLeaks donations in 2010, showing how companies can be pressured to restrict payments.",
                trustScore: 2
            },
            cooperative: {
                title: "Democratic Cooperative",
                risks: ["Slow decision making through consensus", "Susceptible to majority tyranny", "May lack technical expertise"],
                benefits: ["Member-owned and controlled", "Aligned incentives with users", "Democratic governance"],
                realExample: "Credit unions operate this way, but still subject to government regulations and potential member conflicts.",
                trustScore: 3
            },
            algorithm: {
                title: "Algorithmic System",
                risks: ["Code bugs could cause permanent losses", "Difficult to upgrade or fix issues", "No human recourse for mistakes"],
                benefits: ["No human bias or corruption", "Transparent and predictable rules", "Cannot be coerced or bribed"],
                realExample: "Bitcoin has operated for 15+ years with no successful attacks on its core algorithm, despite being worth hundreds of billions.",
                trustScore: 4
            }
        };

        function testLedgerKeeper(keeperType) {
            const data = ledgerKeeperData[keeperType];
            const result = document.getElementById('ledger-keeper-result');
            
            if (result && data) {
                const trustStars = '⭐'.repeat(data.trustScore) + '☆'.repeat(5 - data.trustScore);
                
                result.innerHTML = `
                    <div class="solution-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">${data.title}</h4>
                        <div style="margin-bottom: 15px;">
                            <strong>Trust Score: ${trustStars}</strong>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <strong style="color: #dc3545;">Risks:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                ${data.risks.map(risk => `<li>${risk}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <strong style="color: #28a745;">Benefits:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                ${data.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div>
                            <strong>Real World Example:</strong> ${data.realExample}
                        </div>
                    </div>
                `;
            }
        }

        const trustFailures = {
            paypal: {
                title: "PayPal WikiLeaks Freeze (2010)",
                description: "PayPal froze WikiLeaks donation account after government pressure, showing how payment processors can be weaponized for political control.",
                impact: "Prevented public from donating to journalism organization, demonstrating censorship power of centralized payment systems."
            },
            canada: {
                title: "Canadian Trucker Convoy (2022)", 
                description: "Canadian government froze bank accounts of truckers and donors protesting COVID mandates, without court orders.",
                impact: "Showed how governments can instantly cut off citizens from financial system for political dissent, affecting hundreds of accounts."
            },
            russia: {
                title: "Russian SWIFT Exclusion (2022)",
                description: "Western nations excluded Russian banks from SWIFT payment network after Ukraine invasion, affecting millions of civilians.",
                impact: "Demonstrated how global payment infrastructure can be weaponized geopolitically, trapping ordinary citizens."
            },
            'mt-gox': {
                title: "Mt. Gox Exchange Collapse (2014)",
                description: "World's largest Bitcoin exchange lost 850,000 bitcoins (7% of all Bitcoin) due to hacking and mismanagement.", 
                impact: "Showed risks of trusting centralized Bitcoin services - users lost $450 million worth of Bitcoin permanently."
            }
        };

        function showTrustFailure(failureType) {
            const failure = trustFailures[failureType];
            const result = document.getElementById('trust-failure-result');
            
            if (result && failure) {
                result.innerHTML = `
                    <div class="problem-box">
                        <h4 style="color: #dc3545;">${failure.title}</h4>
                        <p><strong>What Happened:</strong> ${failure.description}</p>
                        <p><strong>Impact:</strong> ${failure.impact}</p>
                    </div>
                `;
            }
        }

        function togglePrinciple(principleNum) {
            const content = document.getElementById(`content-${principleNum}`);
            const icon = document.getElementById(`icon-${principleNum}`);
            
            // Close currently open principle if different
            if (currentOpenPrinciple && currentOpenPrinciple !== principleNum) {
                const currentContent = document.getElementById(`content-${currentOpenPrinciple}`);
                const currentIcon = document.getElementById(`icon-${currentOpenPrinciple}`);
                if (currentContent) currentContent.classList.remove('active');
                if (currentIcon) currentIcon.textContent = '▼';
            }
            
            // Toggle current principle
            if (content && icon) {
                if (content.classList.contains('active')) {
                    content.classList.remove('active');
                    icon.textContent = '▼';
                    currentOpenPrinciple = null;
                } else {
                    content.classList.add('active');
                    icon.textContent = '▲';
                    currentOpenPrinciple = principleNum;
                }
            }
        }

        function completePrinciple(principleNum) {
            if (principleNum > completedPrinciples) {
                completedPrinciples = principleNum + 1;
                updateProgress();
                
                // Auto-open next principle
                if (principleNum < 9) {
                    setTimeout(() => {
                        togglePrinciple(principleNum + 1);
                    }, 1000);
                }
            }
        }

        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            const percentage = (completedPrinciples / 10) * 100;
            
            if (progressFill) progressFill.style.width = percentage + '%';
            if (progressText) progressText.textContent = `${completedPrinciples}/10 Principles Understood`;
        }

        // Principle 1: Double-Spending Demo
        function attemptDoubleSpend() {
            const result = document.getElementById('double-spend-result');
            const coin2 = document.getElementById('coin2');
            
            if (coin2) {
                coin2.style.opacity = '1';
                coin2.style.background = '#dc3545';
            }
            
            setTimeout(() => {
                if (result) {
                    result.innerHTML = `
                        <div class="problem-box">
                            <strong>Attack Failed!</strong><br>
                            Without a shared ledger, Bob and Charlie can't tell if Alice's coin is real or fake. 
                            This is why we need a single source of truth that everyone can verify.
                        </div>
                    `;
                }
            }, 1000);
        }

        function resetAllProgress() {
            completedPrinciples = 0;
            currentOpenPrinciple = null;
            networkUsers = 1000;
            networkMiners = 10;
            networkValue = 1;
            blockchainBlocks = 1;
            
            updateProgress();
            
            // Reset all principles
            for (let i = 0; i <= 9; i++) {
                const content = document.getElementById(`content-${i}`);
                const icon = document.getElementById(`icon-${i}`);
                if (content) content.classList.remove('active');
                if (icon) icon.textContent = '▼';
            }
            
            // Clear results
            const resultDivs = ['double-spend-result', 'trust-result', 'consensus-result', 'puzzle-result', 'tamper-result', 'signature-result', 'profitability-result', 'growth-result', 'timeline-result', 'ledger-keeper-result', 'trust-failure-result'];
            resultDivs.forEach(id => {
                const div = document.getElementById(id);
                if (div) div.innerHTML = '';
            });
        }

        function openBitcoinPaper() {
            window.open('https://bitcoin.org/bitcoin.pdf', '_blank');
        }

        // Initialize
        updateProgress();
        selectMoney('shells'); // Initialize with shells selected
    </script>

</body>
</html>
