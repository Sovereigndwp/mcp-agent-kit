<!DOCTYPE html>
<!-- saved from url=(0140)https://bjpwxhyr74bba31n.canva-hosted-embed.com/codelet/AAEAEGJqcHd4aHlyNzRiYmEzMW4AAAAAAZkkadwQ8IhJT1GoQdvn2ZvPKV6qU0iwIwfZb9jOQ2A9ey4n56A/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin from First Principles - The Complete Interactive Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #404040 100%);
            min-height: 100vh;
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .principle-tracker {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .principle-bar {
            background: #404040;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 15px 0;
        }

        .principle-fill {
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .principle-section {
            background: linear-gradient(135deg, #2d2d2d 0%, #404040 100%);
            border-radius: 15px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid #ff8c00;
            transition: all 0.3s ease;
        }

        .principle-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 140, 0, 0.2);
        }

        .principle-header {
            background: linear-gradient(45deg, #ff8c00, #ffd700);
            color: black;
            padding: 20px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.3rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .principle-header:hover {
            background: linear-gradient(45deg, #ffa500, #ffff00);
        }

        .principle-icon {
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .principle-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background: #2d2d5f;
        }

        .principle-content.active {
            max-height: 5000px;
        }

        .principle-inner {
            padding: 30px;
        }
        
        .principle-content {
            background: #2d2d2d;
        }

        .problem-box {
            background: rgba(220, 53, 69, 0.1);
            border: 2px solid #dc3545;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .problem-box::before {
            content: "🚨 ";
            font-size: 1.2rem;
        }

        .solution-box {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .solution-box::before {
            content: "💡 ";
            font-size: 1.2rem;
        }

        .insight-box {
            background: rgba(255, 140, 0, 0.1);
            border: 2px solid #ff8c00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .insight-box::before {
            content: "🧠 ";
            font-size: 1.2rem;
        }

        .demo-container {
            background: #404040;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #ff8c00;
        }

        .btn {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .btn-success:hover {
            background: linear-gradient(45deg, #218838, #1abc9c);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .trust-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .trust-card {
            background: #333366;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #666;
            transition: all 0.3s ease;
        }

        .trust-card.trusted {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .trust-card.untrusted {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .double-spend-demo {
            background: #0f0f23;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .transaction-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 15px 0;
            padding: 15px;
            background: #2d2d5f;
            border-radius: 8px;
        }

        .person {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        .arrow {
            font-size: 2rem;
            color: #4f46e5;
            margin: 0 10px;
        }

        .coin {
            background: #ffd700;
            color: #000;
            padding: 8px 12px;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .consensus-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .node {
            background: #333366;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .node.honest {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .node.dishonest {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.1);
        }

        .ledger-demo {
            background: #1a1a3a;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .ledger-entry {
            background: #2d2d5f;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .entry-time {
            color: #4f46e5;
            font-weight: bold;
        }

        .entry-tx {
            color: #ffffff;
            flex: 1;
            margin: 0 15px;
        }

        .entry-balance {
            color: #28a745;
            font-weight: bold;
        }

        .mining-visual {
            background: #0f0f23;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .puzzle-demo {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .puzzle-piece {
            background: #333366;
            border: 2px solid #666;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .puzzle-piece:hover {
            border-color: #4f46e5;
        }

        .puzzle-piece.solved {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: #333366;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #4f46e5;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4f46e5;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #cccccc;
            font-size: 0.9rem;
        }

        .hash-display {
            background: #0f0f23;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            border: 2px solid #4f46e5;
            word-break: break-all;
        }

        .chain-visual {
            display: flex;
            align-items: center;
            overflow-x: auto;
            padding: 20px 0;
            margin: 20px 0;
        }

        .block {
            background: #2d2d5f;
            border: 2px solid #4f46e5;
            border-radius: 10px;
            padding: 15px;
            margin: 0 10px;
            min-width: 150px;
            text-align: center;
            font-family: monospace;
            font-size: 0.8rem;
        }

        .block-link {
            color: #4f46e5;
            font-size: 2rem;
            margin: 0 5px;
        }

        /* Enhanced Mobile Optimizations */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 1rem;
                padding: 0 10px;
            }
            
            .container {
                padding: 10px;
            }
            
            .principle-inner {
                padding: 15px;
            }
            
            .principle-header {
                padding: 15px 20px;
                font-size: 1.1rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .principle-icon {
                align-self: flex-end;
                margin-top: -30px;
            }
            
            .trust-demo {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .consensus-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .puzzle-demo {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .transaction-flow {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
            
            .arrow {
                transform: rotate(90deg);
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .chain-visual {
                flex-direction: column;
                align-items: center;
            }
            
            .block {
                margin: 10px 0;
                width: 100%;
                max-width: 200px;
            }
            
            .block-link {
                transform: rotate(90deg);
            }
            
            .hash-display {
                font-size: 0.8rem;
                padding: 10px;
            }
            
            .ledger-entry {
                flex-direction: column;
                gap: 5px;
                text-align: center;
            }
            
            .btn {
                font-size: 0.9rem;
                padding: 10px 18px;
                margin: 3px;
                width: 100%;
                max-width: none;
            }
            
            input[type="text"], input[type="number"] {
                width: 100% !important;
                margin: 10px 0;
                box-sizing: border-box;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .header p {
                font-size: 0.9rem;
            }
            
            .principle-header {
                padding: 12px 15px;
                font-size: 1rem;
            }
            
            .principle-inner {
                padding: 12px;
            }
            
            .consensus-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .puzzle-demo {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .trust-card, .stat-card, .node, .puzzle-piece {
                padding: 12px;
                font-size: 0.9rem;
            }
            
            .demo-container, .problem-box, .solution-box, .insight-box {
                padding: 15px;
                margin: 15px 0;
            }
            
            .btn {
                font-size: 0.85rem;
                padding: 8px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Bitcoin from First Principles</h1>
            <p>Understanding Bitcoin by building it from the ground up - starting with the fundamental problem it solves</p>
        </div>

        <div class="principle-tracker">
            <div style="font-size: 1.2rem; font-weight: bold; margin-bottom: 10px;">
                Your First Principles Journey: <span id="progress-text">0/8 Principles Understood</span>
            </div>
            <div class="principle-bar">
                <div class="principle-fill" id="progress-fill" style="width: 0%;"></div>
            </div>
            <p style="color: #cccccc; margin-top: 10px;">Each principle builds logically on the previous ones</p>
        </div>

        <!-- Principle 1: The Fundamental Problem -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(1)">
                <span>Principle 1: The Double-Spending Problem (The Core Challenge)</span>
                <span class="principle-icon" id="icon-1">▼</span>
            </div>
            <div class="principle-content" id="content-1">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How can we create digital money that can't be copied?"</strong>
                        </p>
                        <p>
                            This is the fundamental problem Bitcoin solves. Physical money can't be in two places at once, 
                            but digital files can be copied infinitely. How do we prevent someone from spending the same 
                            digital coin twice?
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Digital Copying</h4>
                        <p style="margin-bottom: 15px;">
                            Unlike physical objects, digital information can be perfectly copied. If I send you a digital photo, 
                            I still have the original. But if digital money worked this way, I could spend the same coin 
                            with multiple people!
                        </p>
                        
                        <div class="double-spend-demo">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: The Double-Spending Attack</h4>
                            
                            <div class="transaction-flow">
                                <div class="person">Alice</div>
                                <div class="arrow">→</div>
                                <div class="coin" id="coin1">1 BTC</div>
                                <div class="arrow">→</div>
                                <div class="person">Bob</div>
                            </div>
                            
                            <div class="transaction-flow">
                                <div class="person">Alice</div>
                                <div class="arrow">→</div>
                                <div class="coin" id="coin2" style="opacity: 0.5;">1 BTC?</div>
                                <div class="arrow">→</div>
                                <div class="person">Charlie</div>
                            </div>
                            
                            <button class="btn" onclick="attemptDoubleSpend()">Try Double-Spending Attack</button>
                            <div id="double-spend-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: We Need a Global Ledger</h4>
                        <p>
                            The solution is to maintain a single, shared record (ledger) of who owns what. 
                            Every transaction must be recorded, and everyone must agree on the current state. 
                            This prevents double-spending because the ledger shows each coin can only be spent once.
                        </p>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(1)">I Understand the Double-Spending Problem</button>
                </div>
            </div>
        </div>

        <!-- Principle 2: The Trust Problem -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(2)">
                <span>Principle 2: The Trust Problem (Who Controls the Ledger?)</span>
                <span class="principle-icon" id="icon-2">▼</span>
            </div>
            <div class="principle-content" id="content-2">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"Who should control the global ledger, and how can we trust them?"</strong>
                        </p>
                        <p>
                            We need a ledger, but who maintains it? Banks? Governments? What if they become corrupt, 
                            get hacked, or decide to change the rules? How can we create a system that doesn't 
                            require trusting any single party?
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Central Points of Failure</h4>
                        <p style="margin-bottom: 15px;">
                            Traditional solutions rely on trusted third parties (banks, governments, companies). 
                            But these create single points of failure - they can be corrupted, hacked, shut down, 
                            or simply change the rules to benefit themselves.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Trust Scenarios</h4>
                            
                            <div class="trust-demo">
                                <div class="trust-card" id="bank-trust">
                                    <h4>🏦 Bank</h4>
                                    <p>Controls your money</p>
                                    <p>Can freeze accounts</p>
                                    <p>Can fail or be bailed out</p>
                                    <button class="btn" onclick="testTrust(&#39;bank&#39;)">Test Trust</button>
                                </div>
                                
                                <div class="trust-card" id="government-trust">
                                    <h4>🏛️ Government</h4>
                                    <p>Controls money supply</p>
                                    <p>Can print more money</p>
                                    <p>Can change rules</p>
                                    <button class="btn" onclick="testTrust(&#39;government&#39;)">Test Trust</button>
                                </div>
                                
                                <div class="trust-card" id="company-trust">
                                    <h4>🏢 Company</h4>
                                    <p>Controls platform</p>
                                    <p>Can change fees</p>
                                    <p>Can shut down</p>
                                    <button class="btn" onclick="testTrust(&#39;company&#39;)">Test Trust</button>
                                </div>
                                
                                <div class="trust-card" id="network-trust">
                                    <h4>🌐 Network</h4>
                                    <p>No single controller</p>
                                    <p>Rules in code</p>
                                    <p>Transparent &amp; open</p>
                                    <button class="btn" onclick="testTrust(&#39;network&#39;)">Test Trust</button>
                                </div>
                            </div>
                            
                            <div id="trust-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Decentralized Consensus</h4>
                        <p>
                            Instead of trusting one party, we can have many independent parties maintain copies 
                            of the ledger. If most of them agree on the current state, we can trust that state 
                            without trusting any individual party. This is called "decentralized consensus."
                        </p>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(2)">I Understand the Trust Problem</button>
                </div>
            </div>
        </div>

        <!-- Principle 3: The Consensus Problem -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(3)">
                <span>Principle 3: The Consensus Problem (How Do Strangers Agree?)</span>
                <span class="principle-icon" id="icon-3">▼</span>
            </div>
            <div class="principle-content" id="content-3">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How can thousands of strangers on the internet agree on a single version of truth?"</strong>
                        </p>
                        <p>
                            We want many independent parties to maintain the ledger, but how do they coordinate? 
                            What if they disagree? What if some are dishonest? How do we ensure they all 
                            converge on the same version of the ledger?
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Byzantine Generals</h4>
                        <p style="margin-bottom: 15px;">
                            This is known as the "Byzantine Generals Problem" - how do distributed parties 
                            coordinate when some might be dishonest or unreliable? In a network, some nodes 
                            might be malicious, offline, or simply mistaken.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Network Consensus</h4>
                            
                            <div class="consensus-grid">
                                <div class="node honest" id="node1">
                                    <div>Node 1</div>
                                    <div>Status: Honest</div>
                                    <div>Vote: <span id="vote1">?</span></div>
                                </div>
                                <div class="node honest" id="node2">
                                    <div>Node 2</div>
                                    <div>Status: Honest</div>
                                    <div>Vote: <span id="vote2">?</span></div>
                                </div>
                                <div class="node honest" id="node3">
                                    <div>Node 3</div>
                                    <div>Status: Honest</div>
                                    <div>Vote: <span id="vote3">?</span></div>
                                </div>
                                <div class="node dishonest" id="node4">
                                    <div>Node 4</div>
                                    <div>Status: Dishonest</div>
                                    <div>Vote: <span id="vote4">?</span></div>
                                </div>
                                <div class="node honest" id="node5">
                                    <div>Node 5</div>
                                    <div>Status: Honest</div>
                                    <div>Vote: <span id="vote5">?</span></div>
                                </div>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <p><strong>Scenario:</strong> Alice wants to send 1 BTC to Bob. Nodes must agree this transaction is valid.</p>
                                <button class="btn" onclick="simulateConsensus()">Simulate Consensus Vote</button>
                                <button class="btn" onclick="addMaliciousNodes()">Add More Malicious Nodes</button>
                            </div>
                            
                            <div id="consensus-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Majority Rule with Proof</h4>
                        <p>
                            The solution is majority rule - but not just any majority. We need a way to prevent 
                            someone from creating fake identities to outvote honest participants. Bitcoin solves 
                            this with "Proof of Work" - you must prove you've done computational work to vote.
                        </p>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(3)">I Understand the Consensus Problem</button>
                </div>
            </div>
        </div>

        <!-- Principle 4: The Proof of Work Solution -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(4)">
                <span>Principle 4: Proof of Work (Making Votes Expensive)</span>
                <span class="principle-icon" id="icon-4">▼</span>
            </div>
            <div class="principle-content" id="content-4">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How do we prevent someone from creating millions of fake identities to control the vote?"</strong>
                        </p>
                        <p>
                            In a digital system, creating new identities is free. An attacker could create 
                            millions of fake nodes to outvote honest participants. We need to make voting 
                            expensive so that honest participants naturally have more voting power.
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Sybil Attacks</h4>
                        <p style="margin-bottom: 15px;">
                            This is called a "Sybil Attack" - creating many fake identities to gain control. 
                            In traditional voting, we prevent this with identity verification. But in a 
                            decentralized system with no central authority, how do we verify identities?
                        </p>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Make Voting Expensive</h4>
                        <p style="margin-bottom: 15px;">
                            Instead of verifying identities, we make voting expensive. Each vote requires 
                            solving a difficult computational puzzle. This is "Proof of Work" - you must 
                            prove you've expended real-world resources (electricity, hardware) to vote.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Computational Puzzles</h4>
                            
                            <div class="mining-visual">
                                <p style="margin-bottom: 15px;">
                                    <strong>The Puzzle:</strong> Find a number that, when combined with transaction data, 
                                    creates a hash starting with four zeros (0000...).
                                </p>
                                
                                <div class="puzzle-demo">
                                    <div class="puzzle-piece" onclick="tryPuzzle(1)" id="puzzle1">
                                        <div>Try: 1</div>
                                        <div id="hash1">Click to hash</div>
                                    </div>
                                    <div class="puzzle-piece" onclick="tryPuzzle(2)" id="puzzle2">
                                        <div>Try: 2</div>
                                        <div id="hash2">Click to hash</div>
                                    </div>
                                    <div class="puzzle-piece" onclick="tryPuzzle(3)" id="puzzle3">
                                        <div>Try: 3</div>
                                        <div id="hash3">Click to hash</div>
                                    </div>
                                    <div class="puzzle-piece" onclick="tryPuzzle(4)" id="puzzle4">
                                        <div>Try: 4</div>
                                        <div id="hash4">Click to hash</div>
                                    </div>
                                </div>
                                
                                <button class="btn" onclick="autoSolvePuzzle()">Auto-Solve Puzzle</button>
                                <button class="btn" onclick="resetPuzzle()">Reset Puzzle</button>
                                
                                <div id="puzzle-result" style="margin-top: 15px;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">Why This Works:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Expensive to Attack:</strong> Creating fake votes requires real electricity and hardware</li>
                            <li><strong>Honest Majority:</strong> Honest participants collectively have more resources than attackers</li>
                            <li><strong>Verifiable:</strong> Anyone can quickly verify that work was done</li>
                            <li><strong>Fair:</strong> More work = more voting power, regardless of identity</li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(4)">I Understand Proof of Work</button>
                </div>
            </div>
        </div>

        <!-- Principle 5: The Blockchain Structure -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(5)">
                <span>Principle 5: The Chain Structure (Ordering Transactions in Time)</span>
                <span class="principle-icon" id="icon-5">▼</span>
            </div>
            <div class="principle-content" id="content-5">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How do we organize transactions in a way that creates an unchangeable history?"</strong>
                        </p>
                        <p>
                            We have proof of work for consensus, but how do we structure the ledger itself? 
                            We need a way to organize transactions that makes it extremely difficult to 
                            change past records while allowing new ones to be added.
                        </p>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Chain Blocks Together</h4>
                        <p style="margin-bottom: 15px;">
                            Group transactions into "blocks" and chain them together cryptographically. 
                            Each block contains a reference to the previous block. To change an old 
                            transaction, you'd have to redo all the work for that block and every 
                            block that came after it.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Building the Chain</h4>
                            
                            <div class="ledger-demo">
                                <h4 style="color: #4f46e5; margin-bottom: 15px;">Current Ledger State:</h4>
                                <div id="ledger-entries">
                                    <div class="ledger-entry">
                                        <div class="entry-time">Genesis</div>
                                        <div class="entry-tx">System creates 50 BTC for Alice</div>
                                        <div class="entry-balance">Alice: 50 BTC</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <input type="text" id="new-tx" placeholder="Enter transaction (e.g., &#39;Alice sends 10 BTC to Bob&#39;)" style="width: 70%; padding: 10px; border: 2px solid #4f46e5; border-radius: 5px; background: #2d2d5f; color: #ffffff; margin-right: 10px;">
                                <button class="btn" onclick="addTransaction()">Add Transaction</button>
                            </div>
                            
                            <div class="chain-visual" id="chain-visual">
                                <div class="block">
                                    <div>Block 0</div>
                                    <div>Genesis</div>
                                    <div>Hash: 000a...</div>
                                </div>
                            </div>
                            
                            <button class="btn" onclick="attemptTamper()">Try to Change Block 1</button>
                            <div id="tamper-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">Why Chaining Works:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Immutability:</strong> Changing old data requires redoing all subsequent work</li>
                            <li><strong>Chronological Order:</strong> Blocks create a clear timeline of events</li>
                            <li><strong>Cumulative Security:</strong> Each new block makes all previous blocks more secure</li>
                            <li><strong>Verifiable History:</strong> Anyone can verify the entire history from the beginning</li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(5)">I Understand the Chain Structure</button>
                </div>
            </div>
        </div>

        <!-- Principle 6: Digital Signatures -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(6)">
                <span>Principle 6: Digital Signatures (Proving Ownership Without Revealing Secrets)</span>
                <span class="principle-icon" id="icon-6">▼</span>
            </div>
            <div class="principle-content" id="content-6">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How can someone prove they own Bitcoin without revealing their private key?"</strong>
                        </p>
                        <p>
                            We have a secure ledger, but how do we prove ownership of Bitcoin? We need a way 
                            for people to prove they have the right to spend certain Bitcoin without revealing 
                            their secret key to everyone.
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Proving Ownership</h4>
                        <p style="margin-bottom: 15px;">
                            If we use passwords or secret keys directly, anyone who sees the transaction 
                            could steal the key and spend the Bitcoin themselves. We need a way to prove 
                            we know the secret without revealing the secret itself.
                        </p>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Public-Key Cryptography</h4>
                        <p style="margin-bottom: 15px;">
                            Use public-key cryptography! Generate a pair of keys: a private key (secret) and 
                            a public key (shareable). You can create a digital signature with your private 
                            key that proves you own the corresponding public key, without revealing the private key.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Digital Signatures</h4>
                            
                            <div style="margin: 20px 0;">
                                <button class="btn" onclick="generateKeyPair()">Generate Key Pair</button>
                                
                                <div style="margin: 15px 0;">
                                    <p><strong>Private Key (Keep Secret!):</strong></p>
                                    <div class="hash-display" id="private-key">Click "Generate Key Pair" first</div>
                                </div>
                                
                                <div style="margin: 15px 0;">
                                    <p><strong>Public Key (Share Freely):</strong></p>
                                    <div class="hash-display" id="public-key">Generate keys first</div>
                                </div>
                                
                                <div style="margin: 15px 0;">
                                    <input type="text" id="message-to-sign" placeholder="Enter message to sign (e.g., 'Send 1 BTC to Alice')" title="Message to create digital signature for" style="width: 70%; padding: 10px; border: 2px solid #4f46e5; border-radius: 5px; background: #2d2d5f; color: #ffffff; margin-right: 10px;">
                                    <button type="button" class="btn" onclick="signMessage()">Sign Message</button>
                                </div>
                                
                                <div style="margin: 15px 0;">
                                    <p><strong>Digital Signature:</strong></p>
                                    <div class="hash-display" id="signature">Sign a message first</div>
                                </div>
                                
                                <button type="button" class="btn" onclick="verifySignature()">🔍 Verify Signature</button>
                                <button type="button" class="btn" onclick="simulateInvalidSignature()" style="background: linear-gradient(45deg, #dc3545, #c82333); margin-left: 10px;">⚠️ Try Invalid Signature</button>
                                <button type="button" class="btn" onclick="simulatePublicVerification()" style="background: linear-gradient(45deg, #17a2b8, #138496); margin-left: 10px;">Public Verification Demo</button>
                                <div id="signature-result" style="margin-top: 15px;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">How Bitcoin Uses This:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Bitcoin Addresses:</strong> Derived from public keys</li>
                            <li><strong>Transaction Authorization:</strong> Signed with private keys</li>
                            <li><strong>Ownership Proof:</strong> Only the private key holder can create valid signatures</li>
                            <li><strong>Public Verification:</strong> Anyone can verify signatures using public keys</li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(6)">I Understand Digital Signatures</button>
                </div>
            </div>
        </div>

        <!-- Principle 7: Economic Incentives -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(7)">
                <span>Principle 7: Economic Incentives (Making Honesty Profitable)</span>
                <span class="principle-icon" id="icon-7">▼</span>
            </div>
            <div class="principle-content" id="content-7">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"Why would anyone spend electricity and hardware to maintain the Bitcoin network?"</strong>
                        </p>
                        <p>
                            We have the technical solution, but we need people to actually run it. 
                            Proof of work requires expensive computation. Why would rational actors 
                            spend their own resources to secure a network for strangers?
                        </p>
                    </div>
                    
                    <div class="problem-box">
                        <h4 style="color: #dc3545; margin-bottom: 15px;">The Problem: Free Rider Problem</h4>
                        <p style="margin-bottom: 15px;">
                            Everyone benefits from a secure network, but securing it is expensive. 
                            Without incentives, everyone would want others to pay the costs while 
                            they enjoy the benefits for free. This would lead to an insecure network.
                        </p>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Reward Honest Behavior</h4>
                        <p style="margin-bottom: 15px;">
                            Create economic incentives that make honest behavior profitable. Miners who 
                            successfully add blocks to the chain receive newly created Bitcoin plus 
                            transaction fees. This aligns individual profit with network security.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Mining Economics</h4>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="block-reward">6.25</div>
                                    <div class="stat-label">Block Reward (BTC)</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="tx-fees">0.15</div>
                                    <div class="stat-label">Transaction Fees (BTC)</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="total-reward">6.40</div>
                                    <div class="stat-label">Total Reward (BTC)</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="btc-price">$43,000</div>
                                    <div class="stat-label">BTC Price (USD)</div>
                                </div>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <p><strong>Mining Profitability Calculator:</strong></p>
                                <div style="margin: 15px 0;">
                                    <label>Electricity Cost ($/kWh): </label>
                                    <input type="number" id="electricity-cost" value="0.10" step="0.01" title="Electricity cost per kilowatt-hour in USD" style="padding: 5px; border: 2px solid #4f46e5; border-radius: 5px; background: #2d2d5f; color: #ffffff;">
                                </div>
                                <div style="margin: 15px 0;">
                                    <label>Hash Rate (TH/s): </label>
                                    <input type="number" id="hash-rate" value="100" min="1" max="1000000" title="Mining hardware hash rate in terahashes per second" aria-label="Hash rate in TH/s" style="padding: 5px; border: 2px solid #4f46e5; border-radius: 5px; background: #2d2d5f; color: #ffffff;">
                                </div>
                                <button type="button" class="btn" onclick="calculateProfitability()">Calculate Profitability</button>
                            </div>
                            
                            <div id="profitability-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">The Incentive Structure:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Block Rewards:</strong> New Bitcoin created for successful miners</li>
                            <li><strong>Transaction Fees:</strong> Users pay fees for transaction processing</li>
                            <li><strong>Competition:</strong> Miners compete, driving efficiency and security</li>
                            <li><strong>Self-Regulation:</strong> More miners = higher difficulty = maintained 10-minute blocks</li>
                        </ul>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(7)">I Understand Economic Incentives</button>
                </div>
            </div>
        </div>

        <!-- Principle 8: Network Effects -->
        <div class="principle-section">
            <div class="principle-header" onclick="togglePrinciple(8)">
                <span>Principle 8: Network Effects (Why Bitcoin Becomes Stronger Over Time)</span>
                <span class="principle-icon" id="icon-8">▼</span>
            </div>
            <div class="principle-content" id="content-8">
                <div class="principle-inner">
                    <div class="insight-box">
                        <h3 style="color: #4f46e5; margin-bottom: 15px;">First Principles Question:</h3>
                        <p style="font-size: 1.1rem; margin-bottom: 15px;">
                            <strong>"How does Bitcoin become more valuable and secure as more people use it?"</strong>
                        </p>
                        <p>
                            We've solved the technical problems, but how does Bitcoin grow from a small 
                            experiment to a global monetary system? What makes it stronger over time 
                            rather than weaker?
                        </p>
                    </div>
                    
                    <div class="solution-box">
                        <h4 style="color: #28a745; margin-bottom: 15px;">The Insight: Positive Feedback Loops</h4>
                        <p style="margin-bottom: 15px;">
                            Bitcoin exhibits network effects - it becomes more valuable and secure as 
                            more people use it. This creates positive feedback loops that strengthen 
                            the system over time.
                        </p>
                        
                        <div class="demo-container">
                            <h4 style="color: #4f46e5; margin-bottom: 15px;">Interactive Demo: Network Growth Simulation</h4>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="users">1,000</div>
                                    <div class="stat-label">Active Users</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="miners">10</div>
                                    <div class="stat-label">Miners</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="security">Low</div>
                                    <div class="stat-label">Network Security</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="value">$1</div>
                                    <div class="stat-label">Bitcoin Value</div>
                                </div>
                            </div>
                            
                            <div style="margin: 20px 0;">
                                <button type="button" class="btn" onclick="simulateGrowth()">🚀 Simulate Network Growth</button>
                                <button type="button" class="btn" onclick="resetNetwork()" style="background: linear-gradient(45deg, #6c757d, #5a6268); margin-left: 10px;">🔄 Reset Network</button>
                            </div>
                            
                            <div id="growth-result" style="margin-top: 15px;"></div>
                        </div>
                    </div>
                    
                    <div class="insight-box">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">The Network Effects:</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>More Users → More Value:</strong> Increased demand drives up price</li>
                            <li><strong>Higher Price → More Miners:</strong> More profitable to secure the network</li>
                            <li><strong>More Miners → More Security:</strong> Harder to attack the network</li>
                            <li><strong>More Security → More Trust:</strong> Attracts more users and institutions</li>
                            <li><strong>More Adoption → More Development:</strong> Better tools and infrastructure</li>
                        </ul>
                    </div>
                    
                    <div class="demo-container">
                        <h4 style="color: #4f46e5; margin-bottom: 15px;">Bitcoin's Journey: From Experiment to Global Money</h4>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">2009</div>
                                <div class="stat-label">Genesis Block<br>First Bitcoin created</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">2010</div>
                                <div class="stat-label">First Transaction<br>10,000 BTC for pizza</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">2017</div>
                                <div class="stat-label">Mainstream Attention<br>$20,000 per BTC</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">2024</div>
                                <div class="stat-label">Global Adoption<br>Institutional investment</div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-success" onclick="completePrinciple(8)">I Understand Network Effects</button>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin: 40px 0; padding: 30px; background: rgba(255,255,255,0.1); border-radius: 15px;">
            <h2 style="color: #4f46e5; margin-bottom: 15px;">🎉 Congratulations!</h2>
            <p style="font-size: 1.1rem; margin-bottom: 20px;">
                You've understood Bitcoin from first principles! You now know not just how Bitcoin works, 
                but WHY it was designed the way it was. Each principle builds logically on the previous ones 
                to create a complete monetary system.
            </p>
            <div class="insight-box">
                <h3 style="color: #4f46e5; margin-bottom: 15px;">The Complete Picture:</h3>
                <p>
                    Bitcoin solves the double-spending problem through a decentralized ledger maintained by 
                    proof-of-work consensus, structured as an immutable chain of cryptographically-linked blocks, 
                    secured by digital signatures, incentivized through economic rewards, and strengthened by 
                    network effects. Every design choice serves a specific purpose in this elegant system.
                </p>
            </div>
            <button type="button" class="btn btn-success" onclick="resetAllProgress()">🔄 Start Over</button>
            <button type="button" class="btn" onclick="window.open(&#39;https://bitcoin.org/bitcoin.pdf&#39;, &#39;_blank&#39;)">📄 Read Satoshi's Original Paper</button>
        </div>
    </div>

    <script>
        let completedPrinciples = 0;
        let currentOpenPrinciple = null;
        let networkUsers = 1000;
        let networkMiners = 10;
        let networkValue = 1;
        let blockchainBlocks = 1;
        let ledgerEntries = [];
        
        // UTXO (Unspent Transaction Output) tracking
        let utxoSet = {
            'Alice': [{ amount: 50, txid: 'genesis', output: 0 }],
            'Bob': [],
            'Charlie': [],
            'Dave': []
        };

        // Improved hash function for demos (SHA-256 simulation)
        function simpleHash(input) {
            let hash = 0;
            for (let i = 0; i < input.length; i++) {
                const char = input.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            // Make it more realistic - convert to proper hex format
            const hashHex = Math.abs(hash).toString(16).padStart(8, '0');
            // Simulate more realistic Bitcoin-style hash with leading zeros for difficulty
            const leadingZeros = Math.floor(Math.random() * 3); // 0-2 leading zeros normally
            return '0'.repeat(leadingZeros) + hashHex.substring(leadingZeros);
        }

        // Proper proof-of-work hash function - completely random for demo
        function proofOfWorkHash(input, nonce) {
            const data = input + nonce.toString() + Math.random().toString();
            let hash = 0;
            for (let i = 0; i < data.length; i++) {
                const char = data.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            // Add more randomness
            hash = hash ^ Math.floor(Math.random() * 1000000);
            return Math.abs(hash).toString(16).padStart(8, '0');
        }

        function togglePrinciple(principleNum) {
            const content = document.getElementById(`content-${principleNum}`);
            const icon = document.getElementById(`icon-${principleNum}`);
            
            // Close currently open principle if different
            if (currentOpenPrinciple && currentOpenPrinciple !== principleNum) {
                const currentContent = document.getElementById(`content-${currentOpenPrinciple}`);
                const currentIcon = document.getElementById(`icon-${currentOpenPrinciple}`);
                currentContent.classList.remove('active');
                currentIcon.textContent = '▼';
            }
            
            // Toggle current principle
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.textContent = '▼';
                currentOpenPrinciple = null;
            } else {
                content.classList.add('active');
                icon.textContent = '▲';
                currentOpenPrinciple = principleNum;
            }
        }

        function completePrinciple(principleNum) {
            if (principleNum > completedPrinciples) {
                completedPrinciples = principleNum;
                updateProgress();
                
                // Auto-open next principle
                if (principleNum < 8) {
                    setTimeout(() => {
                        togglePrinciple(principleNum + 1);
                    }, 1000);
                }
            }
        }

        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            const percentage = (completedPrinciples / 8) * 100;
            
            progressFill.style.width = percentage + '%';
            progressText.textContent = `${completedPrinciples}/8 Principles Understood`;
        }

        // Principle 1: Double-Spending Demo
        function attemptDoubleSpend() {
            const result = document.getElementById('double-spend-result');
            const coin2 = document.getElementById('coin2');
            
            coin2.style.opacity = '1';
            coin2.style.background = '#dc3545';
            
            setTimeout(() => {
                result.innerHTML = `
                    <div class="problem-box">
                        <strong>Attack Failed!</strong><br>
                        Without a shared ledger, Bob and Charlie can't tell if Alice's coin is real or fake. 
                        This is why we need a single source of truth that everyone can verify.
                    </div>
                `;
            }, 1000);
        }

        // Principle 2: Trust Demo
        function testTrust(trustType) {
            const result = document.getElementById('trust-result');
            const cards = document.querySelectorAll('.trust-card');
            
            // Reset all cards
            cards.forEach(card => {
                card.classList.remove('trusted', 'untrusted');
            });
            
            const scenarios = {
                bank: {
                    outcome: 'untrusted',
                    message: '🏦 Bank froze your account during a "system upgrade" that lasted 3 days. You couldn\'t access your money when you needed it most.'
                },
                government: {
                    outcome: 'untrusted', 
                    message: '🏛️ Government printed 40% more money during a crisis, reducing the value of your savings by half. Your $10,000 savings now buys what $6,000 used to buy.'
                },
                company: {
                    outcome: 'untrusted',
                    message: '🏢 Company changed their fee structure overnight, now charging 10% for transactions that used to be free.'
                },
                network: {
                    outcome: 'trusted',
                    message: '🌐 Network operated exactly as programmed. No single party could change the rules or freeze your funds.'
                }
            };
            
            const scenario = scenarios[trustType];
            document.getElementById(`${trustType}-trust`).classList.add(scenario.outcome);
            
            result.innerHTML = `
                <div class="${scenario.outcome === 'trusted' ? 'solution-box' : 'problem-box'}">
                    ${scenario.message}
                </div>
            `;
        }

        // Principle 3: Consensus Demo
        function simulateConsensus() {
            const votes = ['Accept', 'Accept', 'Accept', 'Reject', 'Accept'];
            const result = document.getElementById('consensus-result');
            
            // Show votes
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`vote${i}`).textContent = votes[i-1];
            }
            
            const acceptVotes = votes.filter(v => v === 'Accept').length;
            const rejectVotes = votes.filter(v => v === 'Reject').length;
            
            setTimeout(() => {
                result.innerHTML = `
                    <div class="solution-box">
                        <strong>Consensus Reached!</strong><br>
                        Accept: ${acceptVotes} votes, Reject: ${rejectVotes} votes<br>
                        Transaction is ACCEPTED by majority rule.<br>
                        Even with 1 dishonest node, the honest majority prevails.
                    </div>
                `;
            }, 1000);
        }

        function addMaliciousNodes() {
            const result = document.getElementById('consensus-result');
            
            // Change more nodes to dishonest
            document.getElementById('node2').classList.remove('honest');
            document.getElementById('node2').classList.add('dishonest');
            document.getElementById('node3').classList.remove('honest');
            document.getElementById('node3').classList.add('dishonest');
            
            result.innerHTML = `
                <div class="problem-box">
                    <strong>Network Compromised!</strong><br>
                    With 3 dishonest nodes out of 5, the malicious actors now control the majority. 
                    They can reject valid transactions or approve invalid ones.<br>
                    This is why Bitcoin needs a way to prevent easy creation of fake nodes.
                </div>
            `;
        }

        // Principle 4: Proof of Work Demo
        let puzzleAttempts = 0;
        let puzzleSolved = false;

        function tryPuzzle(num) {
            if (puzzleSolved) return;
            
            puzzleAttempts++;
            const data = `Alice→Bob:1BTC|Block:${blockchainBlocks}|Time:${Date.now()}`;
            const hash = proofOfWorkHash(data, num);
            
            document.getElementById(`hash${num}`).textContent = hash;
            
            // More realistic difficulty check - needs 4 leading zeros
            if (hash.startsWith('0')) {
                document.getElementById(`puzzle${num}`).classList.add('solved');
                puzzleSolved = true;
                
                document.getElementById('puzzle-result').innerHTML = `
                    <div class="solution-box">
                        <strong>🎉 Puzzle Solved!</strong><br>
                        <strong>Winning Nonce:</strong> ${num}<br>
                        <strong>Winning Hash:</strong> ${hash}<br>
                        <strong>Difficulty:</strong> 1 leading zero<br>
                        <strong>Attempts:</strong> ${puzzleAttempts}<br><br>
                        <em>This miner can now add their block to the chain and earn rewards!</em><br>
                        <small>Real Bitcoin uses 19+ leading zeros! We use 1 for demo purposes.</small>
                    </div>
                `;
            } else {
                // Show the attempt result
                const leadingZeros = hash.match(/^0*/)[0].length;
                const resultDiv = document.getElementById('puzzle-result');
                resultDiv.innerHTML = `
                    <div class="insight-box">
                        <strong>Attempt ${puzzleAttempts}:</strong> Nonce ${num} → ${hash}<br>
                        <strong>Leading zeros:</strong> ${leadingZeros}/1 needed<br>
                        <small>Keep trying! Need a hash starting with "0"</small>
                    </div>
                `;
            }
        }

        function autoSolvePuzzle() {
            if (puzzleSolved) return;
            
            const resultDiv = document.getElementById('puzzle-result');
            resultDiv.innerHTML = `
                <div class="insight-box">
                    <strong>🔍 Auto-Mining in Progress...</strong><br>
                    <div style="margin: 10px 0; background: #0f0f23; padding: 10px; border-radius: 5px; font-family: monospace;">
                        <div id="mining-progress">Searching for valid nonce...</div>
                    </div>
                </div>
            `;
            
            // Simulate realistic mining with progress updates
            let attempts = 0;
            const data = `Alice→Bob:1BTC|Block:${blockchainBlocks}|Time:${Date.now()}`;
            const progressDiv = document.getElementById('mining-progress');
            
            const interval = setInterval(() => {
                attempts++;
                const hash = proofOfWorkHash(data, attempts);
                
                if (attempts % 10 === 0) {
                    const leadingZeros = hash.match(/^0*/)[0].length;
                    progressDiv.innerHTML = `
                        Nonce: ${attempts} → ${hash}<br>
                        Leading zeros: ${leadingZeros}/4 (${((leadingZeros/4)*100).toFixed(1)}%)
                    `;
                }
                
                if (hash.startsWith('0') || attempts > 2000) {
                    clearInterval(interval);
                    puzzleSolved = true;
                    
                    const finalHash = hash.startsWith('0') ? hash : proofOfWorkHash(data, attempts + Math.floor(Math.random() * 100));
                    
                    resultDiv.innerHTML = `
                        <div class="solution-box">
                            <strong>⚡ Auto-Mining Complete!</strong><br>
                            <strong>Winning Nonce:</strong> ${hash.startsWith('0') ? attempts : attempts + Math.floor(Math.random() * 100)}<br>
                            <strong>Total Attempts:</strong> ${attempts}<br>
                            <strong>Winning Hash:</strong> ${finalHash.startsWith('0') ? finalHash : '0' + finalHash.substring(1)}<br>
                            <strong>Time:</strong> ~${(attempts * 0.05).toFixed(2)} seconds<br><br>
                            <em>Real Bitcoin mining typically requires billions of attempts!</em><br>
                            <small>Current Bitcoin network hashrate: ~400 EH/s (400 quintillion hashes/second)</small>
                        </div>
                    `;
                    
                    // Update one of the puzzle pieces to show the solution
                    for (let i = 1; i <= 4; i++) {
                        const piece = document.getElementById(`puzzle${i}`);
                        if (!piece.classList.contains('solved')) {
                            piece.classList.add('solved');
                            document.getElementById(`hash${i}`).textContent = finalHash.startsWith('0') ? finalHash : '0' + finalHash.substring(1);
                            break;
                        }
                    }
                }
            }, 100); // Slower for better visualization
        }

        function resetPuzzle() {
            puzzleAttempts = 0;
            puzzleSolved = false;
            
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`puzzle${i}`).classList.remove('solved');
                document.getElementById(`hash${i}`).textContent = 'Click to hash';
            }
            
            document.getElementById('puzzle-result').innerHTML = '';
        }

        // Principle 5: Blockchain Demo
        function parseTransaction(txString) {
            // Parse format: "Alice sends 10 BTC to Bob"
            const regex = /(\w+)\s+sends?\s+(\d+(?:\.\d+)?)\s+BTC\s+to\s+(\w+)/i;
            const match = txString.match(regex);
            
            if (!match) {
                return null;
            }
            
            return {
                from: match[1],
                amount: parseFloat(match[2]),
                to: match[3],
                original: txString
            };
        }
        
        function calculateBalance(person) {
            if (!utxoSet[person]) return 0;
            return utxoSet[person].reduce((sum, utxo) => sum + utxo.amount, 0);
        }
        
        function validateTransaction(tx) {
            // Check if sender has enough balance
            const balance = calculateBalance(tx.from);
            
            if (balance < tx.amount) {
                return {
                    valid: false,
                    error: `❌ NOT ENOUGH MONEY: ${tx.from} only has ${balance} BTC but tried to send ${tx.amount} BTC. Transaction rejected!`,
                    type: 'insufficient_funds'
                };
            }
            
            if (tx.amount <= 0) {
                return {
                    valid: false,
                    error: `❌ INVALID AMOUNT: Cannot send ${tx.amount} BTC. Amount must be positive.`,
                    type: 'invalid_amount'
                };
            }
            
            return { valid: true };
        }
        
        function executeTransaction(tx) {
            // Find UTXOs to spend (simplified - just use all of them)
            const senderUTXOs = utxoSet[tx.from] || [];
            let totalInput = 0;
            
            // Calculate total available
            senderUTXOs.forEach(utxo => {
                totalInput += utxo.amount;
            });
            
            // Clear sender's UTXOs
            utxoSet[tx.from] = [];
            
            // Create new UTXO for recipient
            if (!utxoSet[tx.to]) utxoSet[tx.to] = [];
            utxoSet[tx.to].push({
                amount: tx.amount,
                txid: `tx_${blockchainBlocks}`,
                output: 0
            });
            
            // Create change UTXO if needed
            const change = totalInput - tx.amount;
            if (change > 0) {
                utxoSet[tx.from].push({
                    amount: change,
                    txid: `tx_${blockchainBlocks}`,
                    output: 1
                });
            }
        }
        
        function updateBalanceDisplay() {
            const ledgerEntries = document.getElementById('ledger-entries');
            
            // Create balance summary
            let balanceHtml = `
                <div class="ledger-entry" style="background: #ff8c00; color: black; font-weight: bold;">
                    <div class="entry-time">CURRENT BALANCES</div>
                    <div class="entry-tx">UTXO Summary</div>
                    <div class="entry-balance">Updated</div>
                </div>
            `;
            
            ['Alice', 'Bob', 'Charlie', 'Dave'].forEach(person => {
                const balance = calculateBalance(person);
                const utxos = utxoSet[person] || [];
                if (balance > 0 || person === 'Alice') {
                    balanceHtml += `
                        <div class="ledger-entry">
                            <div class="entry-time">${person}</div>
                            <div class="entry-tx">${utxos.length} UTXOs</div>
                            <div class="entry-balance">${balance} BTC</div>
                        </div>
                    `;
                }
            });
            
            ledgerEntries.innerHTML = balanceHtml;
        }
        
        function addTransaction() {
            const txInput = document.getElementById('new-tx');
            const transaction = txInput.value.trim();
            
            if (!transaction) {
                showError('Please enter a transaction before adding to the blockchain.');
                return;
            }
            
            // Parse the transaction
            const tx = parseTransaction(transaction);
            if (!tx) {
                showError('Invalid transaction format. Use: "Alice sends 10 BTC to Bob"');
                return;
            }
            
            // Validate the transaction
            const validation = validateTransaction(tx);
            if (!validation.valid) {
                showError(validation.error);
                
                // Show educational explanation in simple terms
                if (validation.type === 'insufficient_funds') {
                    setTimeout(() => {
                        document.getElementById('tamper-result').innerHTML = `
                            <div class="insight-box">
                                <strong>💡 Why This Transaction Failed:</strong><br><br>
                                <strong>Think of Bitcoin like physical coins in your wallet.</strong><br>
                                You can only spend the exact coins you have - no more!<br><br>
                                
                                <strong>Current Money:</strong><br>
                                ${Object.entries(utxoSet).map(([person, utxos]) => {
                                    if (utxos.length === 0) return '';
                                    return `• ${person}: ${utxos.map(u => `${u.amount} BTC`).join(', ')}`;
                                }).filter(Boolean).join('<br>')}<br><br>
                                
                                <strong>The Rule:</strong> You cannot spend money you don't have.<br>
                                <strong>What Happened:</strong> ${tx.from} tried to send ${tx.amount} BTC but only has ${calculateBalance(tx.from)} BTC available.
                            </div>
                        `;
                    }, 1000);
                }
                return;
            }
            
            // Execute the transaction
            executeTransaction(tx);
            blockchainBlocks++;
            
            // Update the display
            updateBalanceDisplay();
            
            // Add to chain visual
            const chainVisual = document.getElementById('chain-visual');
            const newBlock = document.createElement('div');
            newBlock.className = 'block';
            newBlock.style.opacity = '0';
            newBlock.style.transform = 'scale(0.8)';
            newBlock.innerHTML = `
                <div><strong>Block ${blockchainBlocks - 1}</strong></div>
                <div style="font-size: 0.8rem;">${tx.from}→${tx.to}: ${tx.amount} BTC</div>
                <div style="color: #ff8c00; font-size: 0.7rem;">Hash: ${simpleHash(transaction).substring(0, 6)}...</div>
                <div style="color: #28a745; font-size: 0.7rem;">✓ Valid & Mined</div>
            `;
            
            const link = document.createElement('div');
            link.className = 'block-link';
            link.textContent = '⛓️';
            link.style.opacity = '0';
            
            chainVisual.appendChild(link);
            chainVisual.appendChild(newBlock);
            
            // Animate new block
            setTimeout(() => {
                link.style.transition = 'opacity 0.3s ease';
                link.style.opacity = '1';
                newBlock.style.transition = 'all 0.5s ease';
                newBlock.style.opacity = '1';
                newBlock.style.transform = 'scale(1)';
            }, 200);
            
            txInput.value = '';
            showSuccess(`✅ Valid transaction! ${tx.from} sent ${tx.amount} BTC to ${tx.to}`);
            
            // Show educational explanation of what happened
            setTimeout(() => {
                document.getElementById('tamper-result').innerHTML = `
                    <div class="solution-box">
                        <strong>🎉 Transaction Successful!</strong><br><br>
                        <strong>What Happened:</strong><br>
                        1. <strong>Validation:</strong> Checked ${tx.from} has sufficient UTXOs<br>
                        2. <strong>Inputs:</strong> Used ${tx.from}'s UTXOs (${calculateBalance(tx.from) + tx.amount} BTC)<br>
                        3. <strong>Outputs:</strong> Created new UTXO for ${tx.to} (${tx.amount} BTC)<br>
                        ${calculateBalance(tx.from) > 0 ? `4. <strong>Change:</strong> Created change UTXO for ${tx.from} (${calculateBalance(tx.from)} BTC)<br>` : ''}
                        <br><strong>This is how Bitcoin prevents overspending!</strong>
                    </div>
                `;
            }, 1000);
        }
        
        // Helper functions for better user feedback
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'problem-box';
            errorDiv.style.position = 'fixed';
            errorDiv.style.top = '20px';
            errorDiv.style.right = '20px';
            errorDiv.style.zIndex = '9999';
            errorDiv.style.maxWidth = '300px';
            errorDiv.innerHTML = `<strong>⚠️ Error:</strong> ${message}`;
            
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.style.opacity = '0';
                setTimeout(() => errorDiv.remove(), 300);
            }, 3000);
        }
        
        function showSuccess(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'solution-box';
            successDiv.style.position = 'fixed';
            successDiv.style.top = '20px';
            successDiv.style.right = '20px';
            successDiv.style.zIndex = '9999';
            successDiv.style.maxWidth = '300px';
            successDiv.innerHTML = `<strong>✓ Success:</strong> ${message}`;
            
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.style.opacity = '0';
                setTimeout(() => successDiv.remove(), 300);
            }, 2000);
        }

        function attemptTamper() {
            const result = document.getElementById('tamper-result');
            
            result.innerHTML = `
                <div class="problem-box">
                    <strong>Tampering Detected!</strong><br>
                    To change Block 1, you would need to:<br>
                    1. Recalculate Block 1's hash (requires proof of work)<br>
                    2. Recalculate Block 2's hash (it references Block 1)<br>
                    3. Recalculate every subsequent block...<br>
                    4. Do all this faster than honest miners are adding new blocks<br><br>
                    This becomes exponentially harder as more blocks are added!
                </div>
            `;
        }

        // Principle 6: Digital Signatures Demo
        let privateKey = '';
        let publicKey = '';
        let currentMessage = '';
        let currentSignature = '';

        // More realistic key generation (simulated ECDSA)
        function generateKeyPair() {
            // Generate a more realistic private key (256 bits)
            privateKey = '';
            for (let i = 0; i < 64; i++) {
                privateKey += Math.floor(Math.random() * 16).toString(16);
            }
            
            // Simulate elliptic curve point multiplication for public key
            publicKey = '04' + simpleHash(privateKey + 'pubkey_x').padStart(64, '0').substring(0, 64) + 
                         simpleHash(privateKey + 'pubkey_y').padStart(64, '0').substring(0, 64);
            
            document.getElementById('private-key').textContent = privateKey;
            document.getElementById('public-key').textContent = publicKey;
        }

        function signMessage() {
            const message = document.getElementById('message-to-sign').value.trim();
            if (!message || !privateKey) {
                document.getElementById('signature-result').innerHTML = `
                    <div class="problem-box">
                        <strong>Error:</strong> Please generate keys first and enter a message to sign.
                    </div>
                `;
                return;
            }
            
            currentMessage = message;
            // Simulate ECDSA signature (r, s values)
            const messageHash = simpleHash(message);
            const r = simpleHash(messageHash + privateKey + 'r_value').substring(0, 64);
            const s = simpleHash(messageHash + privateKey + 'r_value' + r).substring(0, 64);
            currentSignature = r + s;
            
            document.getElementById('signature').textContent = currentSignature;
            
            // Show signature components
            document.getElementById('signature-result').innerHTML = `
                <div class="insight-box">
                    <strong>✓ Message Signed!</strong><br>
                    <strong>Message Hash:</strong> ${messageHash}<br>
                    <strong>Signature Components:</strong><br>
                    • r: ${r}<br>
                    • s: ${s}<br><br>
                    <em>In real Bitcoin, this uses ECDSA with secp256k1 curve</em>
                </div>
            `;
        }

        function verifySignature() {
            if (!currentMessage || !currentSignature || !publicKey || !privateKey) {
                document.getElementById('signature-result').innerHTML = `
                    <div class="problem-box">
                        <strong>Error:</strong> Please generate keys, sign a message first, then verify.
                    </div>
                `;
                return;
            }
            
            // Simulate signature verification process
            const messageHash = simpleHash(currentMessage);
            const r = currentSignature.substring(0, 64);
            const s = currentSignature.substring(64, 128);
            
            // Simulate elliptic curve verification
            const expectedR = simpleHash(messageHash + privateKey + 'r_value').substring(0, 64);
            const isValid = (r === expectedR);
            
            document.getElementById('signature-result').innerHTML = `
                <div class="${isValid ? 'solution-box' : 'problem-box'}">
                    <strong>🔒 Signature ${isValid ? 'VALID' : 'INVALID'}!</strong><br><br>
                    <strong>Verification Process:</strong><br>
                    1. Hash message: <code style="font-size: 0.8rem;">${messageHash}</code><br>
                    2. Extract r,s from signature<br>
                    3. Use public key for verification<br>
                    4. Result: <strong style="color: ${isValid ? '#28a745' : '#dc3545'}">${isValid ? 'VERIFIED' : 'FAILED'}</strong><br><br>
                    ${isValid ? 
                        '<em>✓ This proves the message was signed by the holder of the private key,<br>without revealing the private key itself!</em><br><br><small>In Bitcoin, this allows you to prove ownership of coins without exposing your private key.</small>' :
                        '<em>✗ Invalid signature - either the message was tampered with or it wasn\'t signed by the correct private key.</em>'
                    }
                </div>
            `;
        }

        // Principle 7: Economic Incentives Demo
        function calculateProfitability() {
            const electricityCost = parseFloat(document.getElementById('electricity-cost').value);
            const hashRate = parseFloat(document.getElementById('hash-rate').value);
            const blockReward = parseFloat(document.getElementById('block-reward').textContent);
            const txFees = parseFloat(document.getElementById('tx-fees').textContent);
            const btcPrice = parseFloat(document.getElementById('btc-price').textContent.replace('$', '').replace(',', ''));
            
            // Simplified calculation
            const totalReward = blockReward + txFees;
            const revenuePerDay = (totalReward * btcPrice * hashRate) / 1000000; // Very simplified
            const powerConsumption = hashRate * 0.1; // kW (simplified)
            const electricityCostPerDay = powerConsumption * 24 * electricityCost;
            const profitPerDay = revenuePerDay - electricityCostPerDay;
            
            document.getElementById('profitability-result').innerHTML = `
                <div class="${profitPerDay > 0 ? 'solution-box' : 'problem-box'}">
                    <strong>Mining Profitability Analysis:</strong><br>
                    Daily Revenue: $${revenuePerDay.toFixed(2)}<br>
                    Daily Electricity Cost: $${electricityCostPerDay.toFixed(2)}<br>
                    Daily Profit: $${profitPerDay.toFixed(2)}<br><br>
                    ${profitPerDay > 0 ? 
                        'Mining is profitable! This incentivizes securing the network.' :
                        'Mining is not profitable at these rates. Miners would shut down, reducing competition and difficulty.'
                    }
                </div>
            `;
        }

        // Principle 8: Network Effects Demo
        function simulateGrowth() {
            networkUsers *= 2;
            networkMiners = Math.floor(networkUsers / 100);
            networkValue *= 1.5;
            
            document.getElementById('users').textContent = networkUsers.toLocaleString();
            document.getElementById('miners').textContent = networkMiners.toLocaleString();
            document.getElementById('value').textContent = `$${Math.floor(networkValue)}`;
            
            let security = 'Low';
            if (networkMiners > 100) security = 'Medium';
            if (networkMiners > 1000) security = 'High';
            if (networkMiners > 10000) security = 'Very High';
            
            document.getElementById('security').textContent = security;
            
            document.getElementById('growth-result').innerHTML = `
                <div class="solution-box">
                    <strong>Network Growth Cycle:</strong><br>
                    More users → Higher demand → Higher price → More miners → Better security → More trust → More users<br><br>
                    This positive feedback loop makes Bitcoin stronger over time!
                </div>
            `;
        }

        function resetNetwork() {
            networkUsers = 1000;
            networkMiners = 10;
            networkValue = 1;
            
            document.getElementById('users').textContent = networkUsers.toLocaleString();
            document.getElementById('miners').textContent = networkMiners;
            document.getElementById('value').textContent = `$${networkValue}`;
            document.getElementById('security').textContent = 'Low';
            document.getElementById('growth-result').innerHTML = '';
        }

        function resetAllProgress() {
            completedPrinciples = 0;
            currentOpenPrinciple = null;
            networkUsers = 1000;
            networkMiners = 10;
            networkValue = 1;
            blockchainBlocks = 1;
            puzzleSolved = false;
            puzzleAttempts = 0;
            
            updateProgress();
            
            // Reset all principles
            for (let i = 1; i <= 8; i++) {
                const content = document.getElementById(`content-${i}`);
                const icon = document.getElementById(`icon-${i}`);
                if (content) {
                    content.classList.remove('active');
                    icon.textContent = '▼';
                }
            }
            
            // Reset all demos
            resetPuzzle();
            resetNetwork();
            
            // Reset trust cards
            document.querySelectorAll('.trust-card').forEach(card => {
                card.classList.remove('trusted', 'untrusted');
            });
            
            // Reset consensus nodes
            for (let i = 1; i <= 5; i++) {
                const node = document.getElementById(`node${i}`);
                if (i <= 3 || i === 5) {
                    node.classList.remove('dishonest');
                    node.classList.add('honest');
                }
                document.getElementById(`vote${i}`).textContent = '?';
            }
            
            // Clear results
            const resultDivs = ['double-spend-result', 'trust-result', 'consensus-result', 'puzzle-result', 'tamper-result', 'signature-result', 'profitability-result', 'growth-result'];
            resultDivs.forEach(id => {
                const div = document.getElementById(id);
                if (div) div.innerHTML = '';
            });
        }

        // New interactive functions for signature learning
        function simulateInvalidSignature() {
            if (!currentMessage || !publicKey) {
                document.getElementById('signature-result').innerHTML = `
                    <div class="problem-box">
                        <strong>Error:</strong> Please sign a message first.
                    </div>
                `;
                return;
            }
            
            const fakeSignature = simpleHash('fake' + Math.random().toString()).repeat(2);
            
            document.getElementById('signature-result').innerHTML = `
                <div class="problem-box">
                    <strong>🚫 Signature INVALID!</strong><br><br>
                    <strong>What Happened:</strong> Someone tried to forge a signature.<br><br>
                    <strong>Original Message:</strong> "${currentMessage}"<br>
                    <strong>Fake Signature:</strong> ${fakeSignature.substring(0, 20)}...<br><br>
                    <strong>Result:</strong> <span style="color: #dc3545;">FAILED ✗</span><br><br>
                    <em>Bitcoin would reject this transaction because the signature doesn't match!</em>
                </div>
            `;
        }
        
        // Initialize
        updateProgress();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97ae63a6b0598707',t:'MTc1NzE2NjE0Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./saved_resource.html"></iframe>

</body></html>